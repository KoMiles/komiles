<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="念念不忘，必有回响">
<meta property="og:type" content="website">
<meta property="og:title" content="孔明的试验田">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="孔明的试验田">
<meta property="og:description" content="念念不忘，必有回响">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="孔明的试验田">
<meta name="twitter:description" content="念念不忘，必有回响">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'hide',
    motion: true
  };
</script>

  <title> 孔明的试验田 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">孔明的试验田</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">念念不忘，必有回响</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/10/how-to-find-file-directory/" itemprop="url">
                  如何根据文件路径找到文件的目录
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-12-10T21:41:00+08:00" content="2016-12-10">
              2016-12-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/10/how-to-find-file-directory/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/10/how-to-find-file-directory/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h3 id="1-有下面这样的一个需求"><a href="#1-有下面这样的一个需求" class="headerlink" title="1. 有下面这样的一个需求"></a>1. 有下面这样的一个需求</h3><p>把下面的两个路径转换为正确的文件目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/mfw_project/test/demo/demo/../../demo.js</div><div class="line">/mfw_project/test/./demo.js</div></pre></td></tr></table></figure></p>
<p>转换成：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/mfw_project/test/demo.js</div></pre></td></tr></table></figure></p>
<p>OK，开始搞！</p>
<ul>
<li>第一个方案</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$str = <span class="string">'/mfw_project/test/demo/demo/../../demo.js'</span>;</div><div class="line"><span class="comment">//$str = '/mfw_project/test/./demo.js';</span></div><div class="line">$arr = explode(<span class="string">'/'</span>,$str);</div><div class="line"><span class="comment">//第一种情况</span></div><div class="line">$arr = array_filter($arr,<span class="function"><span class="keyword">function</span><span class="params">($value)</span></span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="string">'.'</span> === $value)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;);</div><div class="line"><span class="comment">//第二种情况</span></div><div class="line"><span class="keyword">while</span>(($index = array_search(<span class="string">'..'</span>,$arr))!==<span class="keyword">false</span>)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">unset</span>($arr[$index]);</div><div class="line">    <span class="keyword">unset</span>($arr[$index<span class="number">-1</span>]);</div><div class="line">    $arr = array_values($arr);</div><div class="line">&#125;</div><div class="line">$str = implode(<span class="string">'/'</span>,$arr);</div><div class="line">var_dump($str);</div><div class="line"></div></pre></td></tr></table></figure>
<ul>
<li>第二个方案</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$str = <span class="string">'/mfw_project/test/demo/demo/../../demo.js'</span>;</div><div class="line"><span class="comment">//$str = '/mfw_project/test/./demo.js';</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">newStr</span><span class="params">($str)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//第一种情况</span></div><div class="line">    $str = preg_replace(<span class="string">'/([\w\d])+\/..\//'</span>,<span class="string">''</span>,$str);</div><div class="line">    <span class="keyword">if</span>(strpos($str,<span class="string">'..'</span>))</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">return</span> newStr($str);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//第二种情况</span></div><div class="line">    <span class="keyword">if</span>(strpos($str,<span class="string">'.'</span>))</div><div class="line">    &#123;</div><div class="line">        $str = str_replace(<span class="string">"./"</span>,<span class="string">''</span>,$str);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> $str;</div><div class="line">&#125;</div><div class="line">$str = newStr($str);</div><div class="line">var_dump($str);</div></pre></td></tr></table></figure>
<p>以上两种方案都可以解决我们的需求。但是那种效率更高些呢？我们测试一下</p>
<h3 id="测试执行效率"><a href="#测试执行效率" class="headerlink" title="测试执行效率"></a>测试执行效率</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$start_time = microtime(<span class="keyword">true</span>);</div><div class="line">$str = <span class="string">'/mfw_project/test/demo/demo/demo2/demo3/../../../../demo.js'</span>;</div><div class="line"><span class="keyword">for</span>($i=<span class="number">0</span>;$i&lt;<span class="number">100000</span>;$i++)</div><div class="line">&#123;</div><div class="line">    <span class="comment">/*</span></div><div class="line">    $arr = explode('/',$str);</div><div class="line">    $arr = array_filter($arr,function($value)&#123;</div><div class="line">        if('.' === $value)</div><div class="line">        &#123;</div><div class="line">            return false;</div><div class="line">        &#125;</div><div class="line">        return true;</div><div class="line">    &#125;);</div><div class="line">    while(($index = array_search('..',$arr))!==false)&#123;</div><div class="line">        unset($arr[$index]);</div><div class="line">        unset($arr[$index-1]);</div><div class="line">        $arr = array_values($arr);</div><div class="line">    &#125;</div><div class="line">    $str = implode('/',$arr);</div><div class="line">    */</div><div class="line">    $str = newStr($str);</div><div class="line"></div><div class="line">&#125;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">newStr</span><span class="params">($str)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="comment">//第一种情况</span></div><div class="line">        $str = preg_replace(<span class="string">'/([\w\d])+\/..\//'</span>,<span class="string">''</span>,$str);</div><div class="line">        <span class="keyword">if</span>(strpos($str,<span class="string">'..'</span>))</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">return</span> newStr($str);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//第二种情况</span></div><div class="line">        <span class="keyword">if</span>(strpos($str,<span class="string">'.'</span>))</div><div class="line">        &#123;</div><div class="line">            $str = str_replace(<span class="string">"./"</span>,<span class="string">''</span>,$str);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> $str;</div><div class="line">    &#125;</div><div class="line"><span class="keyword">echo</span> $str.<span class="string">"\n"</span>;</div><div class="line"></div><div class="line">$end_time = microtime(<span class="keyword">true</span>);</div><div class="line">$run_time = $end_time - $start_time;</div><div class="line"><span class="keyword">echo</span> <span class="string">"程序运行"</span>.$run_time.<span class="string">"秒"</span>;</div><div class="line"><span class="keyword">exit</span>;</div></pre></td></tr></table></figure>
<ul>
<li>执行结果<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//递归方式</span></div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.57571291923523</span>秒</div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.58426809310913</span>秒</div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.58362793922424</span>秒</div><div class="line"></div><div class="line"><span class="comment">//截取方式</span></div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.22979879379272</span>秒</div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.23150992393494</span>秒</div><div class="line">➜  ~ php <span class="number">1.</span>php</div><div class="line">/mfw_project/test/demo.js</div><div class="line">程序运行<span class="number">0.22574400901794</span>秒</div></pre></td></tr></table></figure>
</li>
</ul>
<p>可以看到代码，我们把程序循环执行了10万次，代码执行效率.<br>截取方式比递归方式，效率快了一倍多。</p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><ul>
<li>尽量使用<code>PHP</code>自带函数</li>
<li><code>PHP</code>中，用正则匹配比直接用<code>PHP</code>截取慢,不过第二种方式代码更美观一些</li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/15/pid-work-admin-by-php/" itemprop="url">
                  PHP实现进程管理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-07-15T00:07:40+08:00" content="2016-07-15">
              2016-07-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/15/pid-work-admin-by-php/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/15/pid-work-admin-by-php/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>php如何实现简单的进程管理?</p>
</blockquote>
<ol>
<li>首先定义一个要执行的文件<code>work.php</code>，比较简单，死循环输入当前的时间．当然你也可以自己写一个．<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="keyword">while</span> (<span class="keyword">true</span>)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">echo</span> date(<span class="string">'Y-m-d H:i:s'</span>).PHP_EOL ;</div><div class="line">    sleep(<span class="number">3</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></li>
<li><p>开始写进程管理文件<code>workProcess.php</code>，根据自己的需要进行优化．</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="comment">/**</span></div><div class="line"> * 管理php进程 </div><div class="line"> */</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">workProcess</span> </span>&#123;</div><div class="line">    <span class="keyword">const</span> PHP_PATH = <span class="string">'/usr/bin/php'</span>;</div><div class="line">    <span class="keyword">const</span> PHP_LOG = <span class="string">'./php.log'</span>;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $process = <span class="keyword">null</span>;</div><div class="line"></div><div class="line">    <span class="comment">//命令必须在这个里面</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $cmd_str = <span class="keyword">array</span>(<span class="string">'start'</span>,<span class="string">'stop'</span>,<span class="string">'restart'</span>);</div><div class="line"></div><div class="line">    <span class="comment">//脚本执行次数</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $times = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * main </div><div class="line">     * 主要程序,用来控制php进程开启，结束，重启</div><div class="line">     * <span class="doctag">@param</span> mixed $argv </div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> public</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">($argv)</span> </span>&#123;</div><div class="line">        <span class="comment">//需要执行的php文件</span></div><div class="line">        $filename = <span class="keyword">isset</span>($argv[<span class="number">1</span>]) ? $argv[<span class="number">1</span>] : <span class="string">''</span>;</div><div class="line">        $cmd = <span class="keyword">isset</span>($argv[<span class="number">2</span>]) ? $argv[<span class="number">2</span>] : <span class="string">''</span>;</div><div class="line">        $num = <span class="keyword">isset</span>($argv[<span class="number">3</span>]) ? $argv[<span class="number">3</span>] : <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">empty</span>($filename)) &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"process is not null \n"</span>;</div><div class="line">            <span class="keyword">exit</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">empty</span>($cmd)) &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"cmd not exists \n"</span>;</div><div class="line">            <span class="keyword">exit</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">self</span>::$process = $filename;</div><div class="line">        <span class="keyword">self</span>::$times = $num;</div><div class="line">        <span class="comment">//检测命令</span></div><div class="line">        <span class="keyword">if</span>(!in_array($cmd,<span class="keyword">self</span>::$cmd_str)) &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"cmd is not wrong! \n"</span>;</div><div class="line">            <span class="keyword">exit</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">self</span>::$cmd();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * start</div><div class="line">     * 启动程序</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> public</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i &lt;=<span class="keyword">self</span>::$times; $i++ ) &#123;</div><div class="line">            <span class="keyword">self</span>::runWork();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">echo</span> <span class="string">"start done~!\n"</span>;</div><div class="line">        <span class="keyword">exit</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * stop</div><div class="line">     * 终止程序</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> public</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</div><div class="line">        $pids = <span class="keyword">self</span>::getPid();</div><div class="line">        <span class="keyword">foreach</span>($pids <span class="keyword">as</span> $pid)&#123;</div><div class="line">            <span class="keyword">self</span>::killWork($pid);</div><div class="line">            sleep(<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">echo</span> <span class="string">"stop done~!\n"</span>;</div><div class="line">        <span class="keyword">exit</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * restart </div><div class="line">     * 重启一个php程序</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> public</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">restart</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">        $pids = <span class="keyword">self</span>::getPid();</div><div class="line">        $count = count($pids);</div><div class="line">        <span class="keyword">for</span>($i=<span class="number">0</span>; $i &lt; $count; $i++ ) &#123;</div><div class="line">            <span class="keyword">self</span>::killWork($pids[$i]);</div><div class="line">            <span class="keyword">self</span>::runWork();</div><div class="line">            sleep(<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        $times = <span class="keyword">self</span>::$times;</div><div class="line">        <span class="keyword">if</span>( $count &lt; $times) &#123;</div><div class="line">            <span class="keyword">for</span>($j=<span class="number">0</span>; $j&lt; $times-$count; $j++) &#123;</div><div class="line">                <span class="keyword">self</span>::runWork();</div><div class="line">                sleep(<span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">echo</span> <span class="string">"restart done~!"</span>;</div><div class="line">        <span class="keyword">exit</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * runWork</div><div class="line">     * 运行程序</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> private</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">runWork</span><span class="params">()</span> </span>&#123;</div><div class="line">        $cmd_str = sprintf(<span class="string">"%s %s &gt;&gt; %s &amp;"</span>, <span class="keyword">self</span>::PHP_PATH, <span class="keyword">self</span>::$process, <span class="keyword">self</span>::PHP_LOG);</div><div class="line">        <span class="keyword">echo</span> $cmd_str.<span class="string">"\n"</span>;</div><div class="line">        shell_exec($cmd_str);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * killWork</div><div class="line">     * 杀死一个程序</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> private</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">killWork</span><span class="params">($pid)</span> </span>&#123;</div><div class="line">        $cmd_str = <span class="string">"kill -9  "</span>.$pid;</div><div class="line">        shell_exec($cmd_str);</div><div class="line">        <span class="keyword">echo</span> <span class="string">"kill &#123;$pid&#125; \n"</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * getPid</div><div class="line">     * 获取进程id</div><div class="line">     * <span class="doctag">@static</span></div><div class="line">     * <span class="doctag">@access</span> private</div><div class="line">     * <span class="doctag">@return</span> void</div><div class="line">     */</div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getPid</span><span class="params">()</span></span>&#123;</div><div class="line">        $cmd_str  = <span class="string">"ps -ef |grep "</span>.basename(<span class="keyword">self</span>::$process).<span class="string">" |grep -v grep |grep -v "</span>.basename(<span class="keyword">__FILE__</span>).<span class="string">" |awk '&#123;print $2&#125;'"</span>;</div><div class="line">        $pid = shell_exec($cmd_str);</div><div class="line"></div><div class="line">        $pids = array_filter(explode(<span class="string">"\n"</span>,$pid));</div><div class="line">        <span class="keyword">return</span> $pids;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">workProcess::main($argv);</div><div class="line"></div></pre></td></tr></table></figure>
</li>
<li><p>程序执行</p>
<ul>
<li>启动5个进程：php workProcess.php work.php start 5</li>
<li>重启进程：php workProcess.php work.php restart</li>
<li>停止进程：php workProcess.php work.php stop</li>
</ul>
</li>
</ol>
<p>参考来源：<br>看了阿印的博客，觉得思路不错，自己也模仿写了一个，嘿嘿．．</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/10/apache-ab-test/" itemprop="url">
                  Apache ab参数--压力测试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-05-10T23:51:31+08:00" content="2016-05-10">
              2016-05-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/10/apache-ab-test/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/10/apache-ab-test/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p><a href="https://blog.linuxeye.com/tag/apache/" target="_blank" rel="external">Apache</a>附带的ab，它非常容易使用，ab可以直接在Web服务器本地发起测试请求。这至关重要，因为我们希望测试的服务器的处理时间，而不包含数据的网络传输时间以及用户PC本地的计算时间。</p>
<p>需要清楚的是，ab进行一切测试的本质都是基于HTTP，所以可以说它是对于Web服务器软件的黑盒性能测试，它获得的一切数据和计算结果，都可以通过HTTP来解释。</p>
<p>如果没有安装，在运行时会提示安装。</p>
<ul>
<li>查看ab版本：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">wangkongming@Vostro /etc/apache2 $ ab -V</div><div class="line">This is ApacheBench, Version 2.3 &lt;$Revision: 1528965 $&gt;</div><div class="line">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</div><div class="line">Licensed to The Apache Software Foundation, http://www.apache.org/</div></pre></td></tr></table></figure>
<ul>
<li>举个例子：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">wangkongming@Vostro /etc/apache2 $ ab -n 10 -c 10 http://www.baidu.com/</div><div class="line">This is ApacheBench, Version 2.3 &lt;$Revision: 1528965 $&gt;</div><div class="line">Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/</div><div class="line">Licensed to The Apache Software Foundation, http://www.apache.org/</div><div class="line"></div><div class="line">Benchmarking www.baidu.com (be patient).....done</div><div class="line"></div><div class="line"></div><div class="line">Server Software:        Apache-Coyote/1.1</div><div class="line">Server Hostname:        www.baidu.com</div><div class="line">Server Port:            80</div><div class="line"></div><div class="line">Document Path:          /</div><div class="line">Document Length:        521 bytes　// 请求的页面大小</div><div class="line"></div><div class="line">Concurrency Level:      10 //并发量</div><div class="line">Time taken for tests:   3.467 seconds //测试总共耗时</div><div class="line">Complete requests:      10 //完成的请求</div><div class="line">Failed requests:        9　//失败的请求</div><div class="line">   (Connect: 0, Receive: 0, Length: 9, Exceptions: 0)</div><div class="line">Total transferred:      880759 bytes　//总共传输数据量</div><div class="line">HTML transferred:       871360 bytes</div><div class="line">Requests per second:    2.88 [#/sec] (mean) //每秒钟的请求量。（仅仅是测试页面的响应速度）</div><div class="line">Time per request:       3466.517 [ms] (mean) //等于 Time taken for tests/(complete requests/concurrency level) 即平均请求等待时间（用户等待的时间）</div><div class="line">Time per request:       346.652 [ms] (mean, across all concurrent requests) //等于 Time taken for tests/Complete requests 即服务器平均请求响应时间 在并发量为1时 用户等待时间相同</div><div class="line">Transfer rate:          248.12 [Kbytes/sec] received //平均每秒多少K，即带宽速率</div><div class="line"></div><div class="line">Connection Times (ms)</div><div class="line">              min  mean[+/-sd] median   max</div><div class="line">Connect:       31   34   2.6     35      39</div><div class="line">Processing:     2 1962 909.4   2298    3432</div><div class="line">Waiting:        2  336 528.4     67    1528</div><div class="line">Total:         33 1996 910.9   2337    3466</div><div class="line"></div><div class="line">Percentage of the requests served within a certain time (ms)</div><div class="line">  50%   2337</div><div class="line">  66%   2467</div><div class="line">  75%   2497</div><div class="line">  80%   2588</div><div class="line">  90%   3466</div><div class="line">  95%   3466</div><div class="line">  98%   3466</div><div class="line">  99%   3466</div><div class="line"> 100%   3466 (longest request)</div></pre></td></tr></table></figure>
<ul>
<li>参数说明：</li>
</ul>
<p>-n 10 表示总请求数为10，共发出了10次请求<br>-c 10 表示并发用户数为10,同时有10个用户访问<br><a href="http://www.baidu.com/" target="_blank" rel="external">http://www.baidu.com/</a> 表示这些请求的目标URL (注意，目标地址后面一定要加结束的反斜杠/)</p>
<ul>
<li>关注的参数：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Requests per second：每秒的请求量，所谓的吞吐率。【这个值越小越好</div><div class="line"></div><div class="line">Time per request: 3466.517 [ms] (mean) 　即平均请求等待时间，也是吞吐率（用户等待的时间）　mean表示平均值</div><div class="line"></div><div class="line">Time per request: 346.652 [ms] (mean, across all concurrent requests) //服务器平均请求响应时间 在并发量为1时 用户等待时间相同　【这个值越大越好】</div></pre></td></tr></table></figure>
<p>简单总结下：</p>
<p>Requests per second　的值越小越好，Time per request　的值越大越好</p>
<p>参考资料：</p>
<p><a href="http://blog.itpub.net/29773961/viewspace-1470071/" target="_blank" rel="external">http://blog.itpub.net/29773961/viewspace-1470071/</a></p>
<p><a href="https://blog.linuxeye.com/124.html" target="_blank" rel="external">https://blog.linuxeye.com/124.html</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/07/how-to-use-hexo-md/" itemprop="url">
                  如何用hexo搭建博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-04-07T17:48:47+08:00" content="2016-04-07">
              2016-04-07
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/07/how-to-use-hexo-md/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/07/how-to-use-hexo-md/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>用hexo搭建博客需要安装下面两个工具</p>
<ul>
<li>git</li>
<li>node.js<br>步骤</li>
</ul>
<ol>
<li>安装node.js</li>
</ol>
<ul>
<li><p>下载node.js软件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /home/wangkongming/software</div><div class="line">git clone git@github.com:nodejs/node.git</div></pre></td></tr></table></figure>
</li>
<li><p>编译安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd node</div><div class="line">./configure</div><div class="line">make</div><div class="line">sudo make install (必须用sudo)</div></pre></td></tr></table></figure>
</li>
<li><p>查看node.js的版本</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">nodejs -v</div><div class="line">v0.10.25</div></pre></td></tr></table></figure>
</li>
</ul>
<ol>
<li><p>安装hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo npm install -g hexo-cli</div></pre></td></tr></table></figure>
</li>
<li><p>安装成功后，初始化hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">hexo init blog_github</div><div class="line">cd blog_github</div><div class="line">npm install</div></pre></td></tr></table></figure>
</li>
</ol>
<p>安装成功后:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">dwxr-xr-x 189 wangkongming wangkongming 4096 12月  7 18:56 node_modules</div><div class="line">-rw-r--r--   1 wangkongming wangkongming 1477 12月  7 18:53 _config.yml</div><div class="line">-rw-r--r--   1 wangkongming wangkongming  442 12月  7 18:53 package.json</div><div class="line">drwxr-xr-x   2 wangkongming wangkongming 4096 12月  7 18:53 scaffolds</div><div class="line">drwxr-xr-x   3 wangkongming wangkongming 4096 12月  7 18:53 source</div><div class="line">drwxr-xr-x   3 wangkongming wangkongming 4096 12月  7 18:53 themes</div></pre></td></tr></table></figure></p>
<ol>
<li><p>用hexo生成文章<br>新建文章 <code>hexo new &quot;My first article&quot;</code>,简写<code>hexo n &quot;My first article&quot;</code><br>生成文章 <code>hexo generate</code>,简写<code>hexo g</code><br>部署到github <code>hexo deploy</code>,简写<code>hexo d</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">hexo n == hexo new</div><div class="line">hexo g == hexo generate</div><div class="line">hexo s == hexo server</div><div class="line">hexo d == hexo deploy</div></pre></td></tr></table></figure>
</li>
<li><p>如何推送博客到github上<br>修改_config.yml文件<br>把</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># Deployment</div><div class="line">## Docs: http://hexo.io/docs/deployment.html</div><div class="line">deploy:</div><div class="line">  type:</div></pre></td></tr></table></figure>
</li>
</ol>
<p>修改成<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># Deployment</div><div class="line">## Docs: http://hexo.io/docs/deployment.html</div><div class="line">deploy:</div><div class="line">  type: github</div><div class="line">  repository: git@github.com:KoMiles/komiles.github.com.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure></p>
<h4 id="这样修改可能会出现"><a href="#这样修改可能会出现" class="headerlink" title="这样修改可能会出现"></a>这样修改可能会出现</h4><p>在hexo deploy 时，出现<code>deployer not found:github</code><br>原因是:<br>在hexo更新到3.0之后，deploy 的 type 需要改成 git。如果没有安装Git发布工具，使用 npm 命令安装：<br><code>npm install hexo-deployer-git --save</code>。<br>最后清除工程(<code>hexo clean</code>)，重新生成(<code>hexo generate</code>)、发布文件(<code>hexo deploy</code>)，检查是否发布成功。<br>最后改成这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"># Deployment</div><div class="line">## Docs: http://hexo.io/docs/deployment.html</div><div class="line">deploy:</div><div class="line">    type: git</div><div class="line">    repository: git@github.com:KoMiles/komiles.github.com.git</div><div class="line">    branch: master</div></pre></td></tr></table></figure></p>
<p>执行：<code>npm install hexo-deployer-git --save</code></p>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ul>
<li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexo官方文档</a></li>
<li><a href="http://www.cnblogs.com/zhcncn/p/4097881.html" target="_blank" rel="external">Hexo搭建Github静态博客</a></li>
<li><a href="https://segmentfault.com/a/1190000000458953" target="_blank" rel="external">使用Github搭建静态博客（Hexo）</a></li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/01/05/switch-case-find-bug/" itemprop="url">
                  记一次switch/case在判断时导致的bug.
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2016-01-05T20:03:59+08:00" content="2016-01-05">
              2016-01-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/01/05/switch-case-find-bug/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/01/05/switch-case-find-bug/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>如何使用，请参考PHP官网 <a href="http://php.net/manual/zh/control-structures.switch.php" target="_blank" rel="external">switch的用法</a><br>我在开发过程中遇到了下面的问题。</p>
<h2 id="请看下面这段代码："><a href="#请看下面这段代码：" class="headerlink" title="请看下面这段代码："></a>请看下面这段代码：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$type = 0;</div><div class="line">switch($type) &#123;</div><div class="line">    case $type &gt;= 0 &amp;&amp; $type &lt; 2:</div><div class="line">        $price = 100;</div><div class="line">        break;</div><div class="line">    case $type&gt;= 3 &amp;&amp; $type &lt; 5:</div><div class="line">        $price = 200;</div><div class="line">        break;</div><div class="line">    case $type&gt;= 6 &amp;&amp; $type &lt; 9:</div><div class="line">        $price = 300;</div><div class="line">        break;</div><div class="line">    default:</div><div class="line">        $price = 800;</div><div class="line">        break;</div><div class="line">&#125;</div><div class="line">echo $price;</div></pre></td></tr></table></figure>
<p>乍一看，很简单呀，因为满足条件 <code>$type &gt;= 0 &amp;&amp; $type &lt; 2</code> ,所以答案是100 呀；<br>其实不是这样子的,返回的是200.是不是很坑啊？</p>
<h2 id="分析代码"><a href="#分析代码" class="headerlink" title="分析代码"></a>分析代码</h2><ul>
<li>官网中特别提示，switch/case作的是松散比较，什么是松散比较，请参考<a href="http://php.net/manual/zh/types.comparisons.php#types.comparisions-loose" target="_blank" rel="external"><strong>松散比较</strong></a></li>
<li><code>$type &gt;= 0 &amp;&amp; $type &lt; 2</code> 这个返回 true;</li>
<li><p><code>$type&gt;= 3 &amp;&amp; $type &lt; 5</code> 这个返回 false;<br>so,上面代码可以转化为这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$type = 0;</div><div class="line">switch(0) &#123;</div><div class="line">    case true:</div><div class="line">        $price = 100;</div><div class="line">        break;</div><div class="line">    case false:</div><div class="line">        $price = 200;</div><div class="line">        break;</div><div class="line">    case false:</div><div class="line">        $price = 300;</div><div class="line">        break;</div><div class="line">    default:</div><div class="line">        $price = 800;</div><div class="line">        break;</div><div class="line">&#125;</div><div class="line">echo $price;</div></pre></td></tr></table></figure>
</li>
<li><p>这样你就容易理解了。<br>看到这里，你就明白为什么返回是200。<br>but,我想要的是100呀，怎么办呢？</p>
</li>
</ul>
<h2 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h2><ul>
<li><p>可以按照下面这样的方式解决：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$type = 0;</div><div class="line">switch(true) &#123;</div><div class="line">    case $type &gt;= 0 &amp;&amp; $type &lt; 2:</div><div class="line">        $price = 100;</div><div class="line">        break;</div><div class="line">    case $type&gt;= 3 &amp;&amp; $type &lt; 5:</div><div class="line">        $price = 200;</div><div class="line">        break;</div><div class="line">    case $type&gt;= 6 &amp;&amp; $type &lt; 9:</div><div class="line">        $price = 300;</div><div class="line">        break;</div><div class="line">    default:</div><div class="line">        $price = 800;</div><div class="line">        break;</div><div class="line">&#125;</div><div class="line">echo $price;</div></pre></td></tr></table></figure>
</li>
<li><p>看到了吧，switch 后边的变量改成true后，程序就正常了，终于输出了自己想要的100.<br>泪奔 啊~~</p>
</li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/27/collect-technology-blog-site/" itemprop="url">
                  技术博客网址
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-12-27T23:10:22+08:00" content="2015-12-27">
              2015-12-27
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/12/27/collect-technology-blog-site/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/12/27/collect-technology-blog-site/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <blockquote>
<p>本文为自己收集的技术博客网址,不断更新中…</p>
</blockquote>
<h2 id="Google网址"><a href="#Google网址" class="headerlink" title="Google网址"></a>Google网址</h2><ul>
<li><a href="https://g.eeload.com/" target="_blank" rel="external">https://g.eeload.com/</a></li>
<li><a href="https://www.souguge.info/" target="_blank" rel="external">https://www.souguge.info</a></li>
<li><a href="https://gg.kfd.me/" target="_blank" rel="external">https://gg.kfd.me/</a></li>
</ul>
<h2 id="大牛博客"><a href="#大牛博客" class="headerlink" title="大牛博客"></a>大牛博客</h2><ul>
<li><a href="http://www.ruanyifeng.com/" target="_blank" rel="external">http://www.ruanyifeng.com/</a> — 阮一峰的网络日志 <a href="https://github.com/ruanyf" target="_blank" rel="external">github</a></li>
<li><a href="http://www.yinwang.org/" target="_blank" rel="external">http://www.yinwang.org/</a> — 王垠 <a href="https://github.com/yinwang0" target="_blank" rel="external">github</a></li>
<li><a href="http://blog.zhaojie.me/" target="_blank" rel="external">http://blog.zhaojie.me/</a> — 老赵 <a href="https://github.com/JeffreyZhao" target="_blank" rel="external">github</a></li>
<li><a href="http://blog.codingnow.com/" target="_blank" rel="external">http://blog.codingnow.com/</a> — 云风-前网易大牛级别人物</li>
<li><a href="http://www.bo56.com/" target="_blank" rel="external">http://www.bo56.com/</a> — 淘宝信海龙 <a href="http://weibo.com/p/1005051644884037" target="_blank" rel="external">weibo</a></li>
</ul>
<h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><ul>
<li><a href="http://timyang.net/" target="_blank" rel="external">http://timyang.net/</a> — 微博研发经理</li>
</ul>
<h2 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h2><ul>
<li><a href="http://www.cnblogs.com/rubylouvre/" target="_blank" rel="external">http://www.cnblogs.com/rubylouvre/</a> — 司徒正美 <a href="https://github.com/RubyLouvre" target="_blank" rel="external">github</a></li>
</ul>
<h2 id="php"><a href="#php" class="headerlink" title="php"></a>php</h2><ul>
<li><p><a href="http://www.laruence.com/" target="_blank" rel="external">http://www.laruence.com/</a> — 惠新宸,PHP核心开发者,鸟哥.<a href="https://github.com/laruence" target="_blank" rel="external">github</a></p>
</li>
<li><p><a href="http://www.imsiren.com/" target="_blank" rel="external">http://www.imsiren.com/</a> — 斯人，吴帅</p>
</li>
<li><a href="http://www.php-note.com/" target="_blank" rel="external">http://www.php-note.com/</a> — 钱途无梁</li>
</ul>
<h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><ul>
<li><a href="http://redis.io/" target="_blank" rel="external">http://redis.io/</a> — redis官网（英文）</li>
<li><a href="http://redis.cn/" target="_blank" rel="external">http://redis.cn/</a> — redis官网（中文）</li>
<li><a href="http://try.redis.io/" target="_blank" rel="external">http://try.redis.io/</a> — redis在线命令</li>
<li><a href="http://redisdoc.com/" target="_blank" rel="external">http://redisdoc.com/</a> — redis命令参考</li>
<li><a href="http://www.yiibai.com/redis/" target="_blank" rel="external">http://www.yiibai.com/redis/</a> — redis教程</li>
</ul>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><ul>
<li><a href="http://git-scm.com/book/zh/v1/" target="_blank" rel="external">http://git-scm.com/book/zh/v1/</a> — git中文教程</li>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰官方网站</a> — git中文教程</li>
</ul>
<h2 id="github"><a href="#github" class="headerlink" title="github"></a>github</h2><ul>
<li><a href="http://githubrank.com/" target="_blank" rel="external">http://githubrank.com/</a> — github国内排名</li>
</ul>
<h2 id="其他博客"><a href="#其他博客" class="headerlink" title="其他博客"></a>其他博客</h2><ul>
<li><a href="http://www.longlong.asia/" target="_blank" rel="external">http://www.longlong.asia/</a> — 龙龙，宝宝树前运维</li>
</ul>
<h2 id="收集的文章"><a href="#收集的文章" class="headerlink" title="收集的文章"></a>收集的文章</h2><ul>
<li><a href="http://iammutex.com/html/y2015/2235.html" target="_blank" rel="external">谈谈服务端缓存的几种用法</a></li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/12/21/linux-cn-sublime-text/" itemprop="url">
                  完美解决linux下sublime_text无法输入中文
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-12-21T00:01:54+08:00" content="2015-12-21">
              2015-12-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/12/21/linux-cn-sublime-text/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/12/21/linux-cn-sublime-text/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p><strong>sublime_text</strong> 被称为’神器’,自然有它的长处,但是在linux系统安装sublime_text 后,你会发现,无法输入中文,本文会解决 sublime_txt 无法输入中文的问题.</p>
<p>测试系统:<a href="http://www.linuxmint.com/" target="_blank" rel="external">Linux Mint 17.2</a><br>输入法:<a href="http://pinyin.sogou.com/linux/" target="_blank" rel="external">搜狗输入法</a><br>Sublime Text版本:<a href="http://www.sublimetext.com/3" target="_blank" rel="external">Sublime Text 3 Build 3083</a></p>
<p>关于如何安装输入法和sublime,在这里不做叙述,自行百度.</p>
<ol>
<li><p>保存下面的代码为sublime-imfix.c 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">sublime-imfix.c</div><div class="line">Use LD_PRELOAD to interpose some function to fix sublime input method support for linux.</div><div class="line">By Cjacker Huang</div><div class="line"></div><div class="line">gcc -shared -o libsublime-imfix.so sublime-imfix.c `pkg-config --libs --cflags gtk+-2.0` -fPIC</div><div class="line">LD_PRELOAD=./libsublime-imfix.so subl</div><div class="line">*/</div><div class="line">#include &lt;gtk/gtk.h&gt;</div><div class="line">#include &lt;gdk/gdkx.h&gt;</div><div class="line">typedef GdkSegment GdkRegionBox;</div><div class="line"></div><div class="line">struct _GdkRegion</div><div class="line">&#123;</div><div class="line">  long size;</div><div class="line">  long numRects;</div><div class="line">  GdkRegionBox *rects;</div><div class="line">  GdkRegionBox extents;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">GtkIMContext *local_context;</div><div class="line"></div><div class="line">void</div><div class="line">gdk_region_get_clipbox (const GdkRegion *region,</div><div class="line">            GdkRectangle    *rectangle)</div><div class="line">&#123;</div><div class="line">  g_return_if_fail (region != NULL);</div><div class="line">  g_return_if_fail (rectangle != NULL);</div><div class="line"></div><div class="line">  rectangle-&gt;x = region-&gt;extents.x1;</div><div class="line">  rectangle-&gt;y = region-&gt;extents.y1;</div><div class="line">  rectangle-&gt;width = region-&gt;extents.x2 - region-&gt;extents.x1;</div><div class="line">  rectangle-&gt;height = region-&gt;extents.y2 - region-&gt;extents.y1;</div><div class="line">  GdkRectangle rect;</div><div class="line">  rect.x = rectangle-&gt;x;</div><div class="line">  rect.y = rectangle-&gt;y;</div><div class="line">  rect.width = 0;</div><div class="line">  rect.height = rectangle-&gt;height;</div><div class="line">  //The caret width is 2;</div><div class="line">  //Maybe sometimes we will make a mistake, but for most of the time, it should be the caret.</div><div class="line">  if(rectangle-&gt;width == 2 &amp;&amp; GTK_IS_IM_CONTEXT(local_context)) &#123;</div><div class="line">        gtk_im_context_set_cursor_location(local_context, rectangle);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//this is needed, for example, if you input something in file dialog and return back the edit area</div><div class="line">//context will lost, so here we set it again.</div><div class="line"></div><div class="line">static GdkFilterReturn event_filter (GdkXEvent *xevent, GdkEvent *event, gpointer im_context)</div><div class="line">&#123;</div><div class="line">    XEvent *xev = (XEvent *)xevent;</div><div class="line">    if(xev-&gt;type == KeyRelease &amp;&amp; GTK_IS_IM_CONTEXT(im_context)) &#123;</div><div class="line">       GdkWindow * win = g_object_get_data(G_OBJECT(im_context),&quot;window&quot;);</div><div class="line">       if(GDK_IS_WINDOW(win))</div><div class="line">         gtk_im_context_set_client_window(im_context, win);</div><div class="line">    &#125;</div><div class="line">    return GDK_FILTER_CONTINUE;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void gtk_im_context_set_client_window (GtkIMContext *context,</div><div class="line">          GdkWindow    *window)</div><div class="line">&#123;</div><div class="line">  GtkIMContextClass *klass;</div><div class="line">  g_return_if_fail (GTK_IS_IM_CONTEXT (context));</div><div class="line">  klass = GTK_IM_CONTEXT_GET_CLASS (context);</div><div class="line">  if (klass-&gt;set_client_window)</div><div class="line">    klass-&gt;set_client_window (context, window);</div><div class="line"></div><div class="line">  if(!GDK_IS_WINDOW (window))</div><div class="line">    return;</div><div class="line">  g_object_set_data(G_OBJECT(context),&quot;window&quot;,window);</div><div class="line">  int width = gdk_window_get_width(window);</div><div class="line">  int height = gdk_window_get_height(window);</div><div class="line">  if(width != 0 &amp;&amp; height !=0) &#123;</div><div class="line">    gtk_im_context_focus_in(context);</div><div class="line">    local_context = context;</div><div class="line">  &#125;</div><div class="line">  gdk_window_add_filter (window, event_filter, context);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>安装 C/C++ 的编译环境和 gtk libgtk2.0-dev</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install build-essential</div><div class="line">sudo apt-get install libgtk2.0-dev</div></pre></td></tr></table></figure>
</li>
<li><p>编译共享内库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gcc -shared -o libsublime-imfix.so sublime-imfix.c `pkg-config --libs --cflags gtk+-2.0` -fPIC</div></pre></td></tr></table></figure>
</li>
<li><p>设置 LD_PRELOAD 并启动 Sublime Text</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">LD_PRELOAD=./libsublime-imfix.so subl</div></pre></td></tr></table></figure>
</li>
<li><p>修改 /usr/share/applications/sublime_text.desktop 为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">[Desktop Entry]</div><div class="line">Version=1.0</div><div class="line">Type=Application</div><div class="line">Name=Sublime Text</div><div class="line">GenericName=Text Editor</div><div class="line">Comment=Sophisticated text editor for code, markup and prose</div><div class="line">Exec=env LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so /opt/sublime_text/sublime_text %F</div><div class="line">Terminal=false</div><div class="line">MimeType=text/plain;</div><div class="line">Icon=sublime-text</div><div class="line">Categories=TextEditor;Development;</div><div class="line">StartupNotify=true</div><div class="line">Actions=Window;Document;</div><div class="line"></div><div class="line">[Desktop Action Window]</div><div class="line">Name=New Window</div><div class="line">Exec=env LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so /opt/sublime_text/sublime_text -n</div><div class="line">OnlyShowIn=Unity;</div><div class="line"></div><div class="line">[Desktop Action Document]</div><div class="line">Name=New File</div><div class="line">Exec=env LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so /opt/sublime_text/sublime_text --command new_file</div><div class="line">OnlyShowIn=Unity;</div></pre></td></tr></table></figure>
</li>
<li><p>把 libsublime-imfix.so 移动到 /opt/sublime_text/ 中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mv libsublime-imfix.so /opt/sublime_text/</div></pre></td></tr></table></figure>
</li>
<li><p>修改 /usr/bin/subl 为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line"></div><div class="line">export LD_PRELOAD=/opt/sublime_text/libsublime-imfix.so</div><div class="line">exec /opt/sublime_text/sublime_text &quot;$@&quot;</div></pre></td></tr></table></figure>
</li>
<li><p>重启电脑</p>
</li>
</ol>
<p>到此,就可以在sublime中输入中文,可以愉快的码字啦~</p>
<p>文章参考: <a href="https://www.sinosky.org/linux-sublime-text-fcitx.html" target="_blank" rel="external">https://www.sinosky.org/linux-sublime-text-fcitx.html</a></p>
<p>by komiles 2015-12-21</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/04/07/hello-world/" itemprop="url">
                  Hello World
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-04-07T17:48:47+08:00" content="2015-04-07">
              2015-04-07
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/04/07/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/04/07/hello-world/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  


        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars2.githubusercontent.com/u/3324642?v=3&s=460" alt="孔明" itemprop="image"/>
          <p class="site-author-name" itemprop="name">孔明</p>
        </div>
        <p class="site-description motion-element" itemprop="description">念念不忘，必有回响</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">孔明</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"komiles"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
